(this["webpackJsonptm-faction-picker"]=this["webpackJsonptm-faction-picker"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,n,t){e.exports=t(36)},,,,,function(e,n,t){},,function(e,n,t){},,,,,,function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n){},function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(15),c=t.n(o),l=(t(22),t(2)),i=t(3),s=t.n(i),u=t(5),m=t(4),f=t(16),p=(t(24),t(11)),d=["BON1: SPD +2C","BON2: CULT +4C","BON3: +6C","BON4: +3PW 1SHIP","BON5: +1W +3PW","BON6: pass-vp:SA*4,SH*4  +2W","BON7: pass-vp:TP*2 +1W","BON8: +1P","BON9: pass-vp:D*1 +2C","BON10: pass-vp:ship*3 +3PW"],v=["SCORE1: SPD>>2vp, 1EARTH->1C","SCORE2: TOWN>>5vp, 4EARTH->1SPD","SCORE3: D>>2vp, 4WATER->1P","SCORE4: SA/SH>>5vp, 2FIRE->1W","SCORE5: D>>2vp, 4FIRE->4PW","SCORE6: TP>>3vp, 4WATER->1SPD","SCORE7: SA/SH>>5vp, 2AIR->1W","SCORE8: TP>>3vp, 4AIR->1SPD","SCORE9: TE>>4vp, 1CULT->2C"],E=["black","blue","brown","gray","green","red","yellow"],b=[{faction:"Alchemists",color:"black"},{faction:"Auren",color:"green"},{faction:"Chaos Magicians",color:"red"},{faction:"Cultists",color:"brown"},{faction:"Darklings",color:"black"},{faction:"Dwarves",color:"gray"},{faction:"Engineers",color:"gray"},{faction:"Fakirs",color:"yellow"},{faction:"Giants",color:"red"},{faction:"Halflings",color:"brown"},{faction:"Mermaids",color:"blue"},{faction:"Nomads",color:"yellow"},{faction:"Swarmlings",color:"blue"},{faction:"Witches",color:"green"}];var O=function(){0;var e=Object(f.a)(),n=e.register,t=e.handleSubmit,o=e.watch,c=(e.errors,Object(a.useState)([])),i=Object(m.a)(c,2),O=i[0],g=i[1],h=Object(a.useState)(null),S=Object(m.a)(h,2),y=(S[0],S[1]),k=Object(a.useState)([]),w=Object(m.a)(k,2),C=(w[0],w[1],Object(a.useState)("4pLeague_S26_D6L10_G4")),R=Object(m.a)(C,2),A=R[0],N=(R[1],function(e){var n,t,a;for(n=0;n<20;n++){(t=e["SCORE"+n])&&(delete t.round.all,a=Object.keys(t.round)[0],document.getElementsByName("round"+a)[0].value=n-1)}}),B=function(e){for(var n=0;n<3;n++){var t=document.getElementsByName("fact"+(n+1))[0],a=0;for(a=0;a<b.length;a++)b[a].faction.toLowerCase()===e[n]&&(t.value=a)}},P=function(e){for(var n,t,a=0,r=0;r<e.length;r++)(t=e[r].comment)&&t.startsWith("Removing tile BON")&&(n=parseInt(t[t.length-1]),document.getElementsByName("bonus"+(a+1))[0].value=n-1,a++)},W=function(){var e=[o("bonus1"),o("bonus2"),o("bonus3"),o("round1"),o("round2"),o("round3"),o("round4"),o("round5"),o("round6"),o("fact1"),o("fact2"),o("fact3")],n=new Array(119).fill(0);n[e[0]]=1,n[e[1]]=1,n[e[2]]=1;for(var t=10;t<19;t++)n[t]=1;for(var a=3;a<9;a++)"-"!==e[a]&&(n[parseInt(e[a])+10]=0);for(var r=0;r<6;r++)n[parseInt(e[r+3])+19+9*r]=1;for(var c=0;c<3;c++)"none"!==e[c+9]&&(n[parseInt(e[c+9])+73]=1);for(var l=[],i=0;i<3;i++)"none"!==e[i+9]&&(l[i]=E.indexOf(b[parseInt(e[i+9])].color)),n[parseInt(l[i])+87]=1;for(var m=0,f=0;f<3;f++)"none"!==e[f+9]&&m++;n[m+94]=1;for(var d=[],v=0;v<b.length;v++){d[v]=Array.from(n),d[v][98+v]=1;var O=b[v].color,h=E.indexOf(O);d[v][112+h]=1}Object(u.a)(s.a.mark((function n(){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a("./model/model.json");case 2:t=n.sent,y(t),p.c((function(){for(var n=t.predict(p.b(d)),a=Array.from(n.dataSync()),r=[],o=0;o<3;o++)"none"!==e[o+9]&&r.push(b[parseInt(e[o+9])].color);for(var c=0;c<a.length;c++)a[c]={fact:b[c].faction,color:b[c].color,score:a[c],class:r.includes(b[c].color)?"unavailable":b[c].color};a.sort((function(e,n){return e.score<n.score?1:-1})),g(a)}));case 5:case"end":return n.stop()}}),n)})))()};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h3",null,"Load Game from Snellman"),r.a.createElement("form",{onSubmit:t((function(e){}))},r.a.createElement("div",null,r.a.createElement("input",{id:"game_id",type:"text",defaultValue:A}),r.a.createElement("button",{onClick:function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var n=JSON.parse(e.response);N(n.events.global),P(n.ledger),B(n.order),W()}},e.open("POST","https://cors-anywhere.herokuapp.com/https://terra.snellman.net/app/view-game/"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var n="game="+document.getElementById("game_id").value;e.send(n)}},"LOAD")),r.a.createElement("h3",null,"Missing Bonus Tiles"),Object(l.a)(Array(3)).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("select",{name:"bonus"+(t+1),ref:n,onChange:W},r.a.createElement("option",{key:"blank",value:"-"},"-"),d.map((function(e,n){return r.a.createElement("option",{key:n,value:n},e)}))))})),r.a.createElement("h3",null,"Scoring Tiles"),Object(l.a)(Array(6)).map((function(e,t){return r.a.createElement("div",{key:t},"Round ",t+1,": ",r.a.createElement("select",{name:"round"+(t+1),ref:n,onChange:W},r.a.createElement("option",{key:"blank",value:"-"},"-"),v.map((function(e,n){return r.a.createElement("option",{key:n,value:n},e)}))))})),r.a.createElement("h3",null,"Already Selected Factions"),Object(l.a)(Array(3)).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("select",{name:"fact"+(t+1),ref:n,onChange:W},r.a.createElement("option",{key:"blank",value:"none"},"none"),b.map((function(e,n){return r.a.createElement("option",{key:n,value:n},e.faction)}))))})),r.a.createElement("h3",null,"Predictions")),r.a.createElement("div",null,r.a.createElement("table",{id:"predictionsList"},r.a.createElement("tbody",null,O.map((function(e,n){return r.a.createElement("tr",{key:n,className:e.class},r.a.createElement("td",null,e.fact),r.a.createElement("td",null,e.score.toFixed(3)))})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.d37237d7.chunk.js.map